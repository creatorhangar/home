ATENCAO: NO DOCUMENTO VAICITAR VARIAS VEZES SOBRE TRABALHO EM EQUIPE, E ETC, MAS NAO, O APP √â PRA SER CLIENT SIDDE PRA SEMPRE, SEMPRECISAR USAR INTERET, NAO √â UMA OPCAO TER ESSA INTEGRACAO ONLINE, O CLIENTE TEM O APP USA ALI NO PC\CEL DELE E OK, SEM CONTATO COM OUTROS USUARIOS, OU EQUIPE. ISSO √â REGRA, MANTRA.
Diretriz T√©cnica COMPLETA: App Criador de Templates
Documento de Especifica√ß√£o para Desenvolvimento

1. STACK TECNOL√ìGICA ATUALIZADA
Bibliotecas Adicionais Obrigat√≥rias
√çcones e Elementos Visuais:

lucide-react: Biblioteca de √≠cones consistentes e modernos (1000+ √≠cones prontos)
Usar para: copos d'√°gua, checkboxes, setas, estrelas, cora√ß√µes, etc.

Anima√ß√µes:

framer-motion: Micro-anima√ß√µes suaves e profissionais
Usar para: hover nos blocos, transi√ß√µes, feedback visual

Gr√°ficos e Visualiza√ß√µes:

recharts: Para progress bars, gr√°ficos de progresso, visualiza√ß√µes de dados
Usar para: trackers visuais, barras de progresso circulares

Interface:

react-colorful: Color picker profissional
@radix-ui/react-popover: Popovers para configura√ß√µes
@radix-ui/react-tabs: Navega√ß√£o por abas no painel lateral


2. ARQUITETURA DE BANCO DE DADOS EXPANDIDA
Tabela 3: temas_visuais (NOVA)
Armazena os temas de design pr√©-configurados.
ColunaTipoDescri√ß√£oiduuidChave prim√°rianome_tematext"Minimalist Sage", "Warm Boho", "Corporate Blue"cores_primariasjsonbArray de cores principaiscores_acentojsonbArray de cores de destaquetipografiajsonbFont-family, tamanhos, pesosestilo_bordastext"rounded-lg", "rounded-none", "rounded-2xl"estilo_sombrastextClasses Tailwind de sombra
Tabela 4: biblioteca_assets (NOVA)
Biblioteca de elementos visuais prontos.
ColunaTipoDescri√ß√£oiduuidChave prim√°riacategoriatext"ilustracoes", "patterns", "divisores"nome_assettext"Floral Border", "Geometric Pattern"tipo_arquivotext"svg", "png"url_arquivotextURL do asset no storagetagstext[]["floral", "primavera", "delicado"]
Atualiza√ß√£o na Tabela templates_usuario
Adicionar colunas:
ColunaTipoDescri√ß√£otema_iduuidFK para temas_visuais (qual tema est√° usando)metadatajsonbTags, categoria, descri√ß√£ocriado_emtimestampData de cria√ß√£oatualizado_emtimestamp√öltima modifica√ß√£o

3. SISTEMA DE TEMAS VISUAIS
Estrutura de um Tema (JSON)
json{
  "id": "tema-minimalist-sage",
  "nome_tema": "Minimalist Sage",
  "cores_primarias": [
    "#F8F9F8",  // Fundo principal
    "#FFFFFF",  // Fundo secund√°rio
    "#3D3D3D"   // Texto principal
  ],
  "cores_acento": [
    "#A8B5A0",  // Sage principal
    "#E8EDE7",  // Sage claro
    "#7A8A73",  // Sage escuro
    "#D4DBD0"   // Sage m√©dio
  ],
  "tipografia": {
    "heading": "font-serif",
    "body": "font-sans",
    "tamanhos": {
      "titulo": "text-3xl",
      "subtitulo": "text-lg",
      "corpo": "text-sm"
    }
  },
  "estilo_bordas": "rounded-lg",
  "estilo_sombras": "shadow-sm"
}
Temas Pr√©-Configurados Obrigat√≥rios
Tema 1: Minimalist Sage

Cores: Verde s√°lvia suave + brancos + cinza grafite
Bordas: M√©dias (rounded-lg)
Sombras: Sutis
Estilo: Clean, espa√ßos respirat√≥rios, linhas finas

Tema 2: Warm Boho

Cores: Terracota + bege + marfim + mostarda suave
Bordas: Arredondadas (rounded-2xl)
Sombras: M√©dias com tom quente
Estilo: Aconchegante, org√¢nico

Tema 3: Corporate Blue

Cores: Azul navy + cinza ard√≥sia + branco + azul claro
Bordas: Retas (rounded-sm)
Sombras: Estruturadas
Estilo: Profissional, estruturado

Tema 4: Soft Lavender

Cores: Lavanda + rosa p√°lido + branco + cinza suave
Bordas: Muito arredondadas (rounded-xl)
Sombras: Difusas e suaves
Estilo: Delicado, feminino

Tema 5: Monochrome Elegant

Cores: Preto + branco + cinzas graduados
Bordas: Minimalistas (rounded-md)
Sombras: Fortes e definidas
Estilo: Alto contraste, editorial


4. BIBLIOTECA DE WIDGETS EXPANDIDA E MELHORADA
CATEGORIA: Texto e M√≠dia
1. WidgetTexto

Tipos: T√≠tulo Grande, Subt√≠tulo, Par√°grafo, Cita√ß√£o com Aspas
Propriedades edit√°veis: Conte√∫do, alinhamento, cor do texto
Estilo adaptativo ao tema escolhido

2. WidgetImagem

Upload de arquivo (PNG, JPG)
Crop e redimensionamento interno
Bordas arredondadas opcionais
Op√ß√£o de filtro (grayscale, sepia, nenhum)

3. WidgetDivisor

Tipos: Linha simples, Linha com √≠cone central, Linha pontilhada, Linha ondulada
Usa √≠cones do lucide-react para divisores com √≠cone
Espessura e cor configur√°veis

CATEGORIA: Listas (Produtividade)
4. WidgetListaDeTarefas

Checkboxes visuais usando lucide-react (Square, CheckSquare)
Anima√ß√£o com framer-motion ao "marcar" (mesmo que seja visual)
Linhas edit√°veis (adicionar/remover itens)
Variantes: Checkbox simples, Checkbox com c√≠rculo, Checkbox com estrela

5. WidgetListaNumerada

Numera√ß√£o customiz√°vel (1-2-3, I-II-III, a-b-c)
√çcones num√©ricos circulares ou quadrados
Indenta√ß√£o configur√°vel

6. WidgetListaComPontos

Bullet points customiz√°veis usando lucide-react
Op√ß√µes: Ponto padr√£o, Seta, Estrela, Cora√ß√£o, Folha
Cor e tamanho dos √≠cones ajust√°veis

CATEGORIA: Planejamento (Planners)
7. WidgetPlannerSemanal

Grade de 7 colunas (Dom-S√°b)
Cada dia com espa√ßo para 4-6 itens
Headers dos dias com √≠cones (sol para domingo, lua para segunda, etc.)
Linhas horizontais para separar hor√°rios

8. WidgetPlannerMensal

Grade de calend√°rio tradicional (7x5 ou 7x6)
Dias do m√™s numerados
Espa√ßo para anota√ß√µes em cada dia
Headers dos dias da semana

9. WidgetPrioridadesDoDia

3 se√ß√µes: Alta Prioridade, M√©dia Prioridade, Baixa Prioridade
√çcones de flag usando lucide-react (Flag icon)
Cores diferentes por prioridade seguindo o tema

10. WidgetHorarioDoMeuDia

Timeline vertical com slots de hora (6h, 7h, 8h... 22h)
Blocos de tempo edit√°veis
√çcones de rel√≥gio usando lucide-react (Clock icon)

CATEGORIA: Rastreadores (Trackers)
11. WidgetTrackerDeHabitos

Grade: H√°bitos (linhas) x Dias do M√™s (colunas)
Cada c√©lula √© um checkbox visual
At√© 10 h√°bitos x 31 dias
√çcones customiz√°veis por h√°bito (exerc√≠cio = Dumbbell, √°gua = Droplet, etc.)
Contador de streak visual

12. WidgetControleDeAgua

SOLU√á√ÉO PARA √çCONES: Usar lucide-react com o √≠cone GlassWater ou Droplets
Layout: 8 copos em linha ou grid 2x4
Estados: Vazio (outline), Cheio (filled)
Anima√ß√£o de "preenchimento" com framer-motion
Contador visual: "5/8 copos"

13. WidgetMoodTracker

Grade de 30-31 dias
Cada dia tem um emoji/√≠cone de humor
5 estados: Muito Feliz (Smile), Feliz (SmilePlus), Neutro (Meh), Triste (Frown), Muito Triste (CloudRain)
Usa lucide-react para os √≠cones de humor

14. WidgetTrackerDeExercicios

Lista de tipos de exerc√≠cio (Cardio, For√ßa, Yoga, etc.)
Checkboxes por dia da semana
√çcones usando lucide-react (Heart para cardio, Dumbbell para for√ßa, etc.)

15. WidgetGratitude

3 linhas para "Hoje sou grato por..."
√çcone de cora√ß√£o ou estrela no in√≠cio de cada linha
Texto edit√°vel com placeholder sugestivo

CATEGORIA: Metas e Progresso
16. WidgetProgressBar

Barra de progresso horizontal
USA RECHARTS: Componente visual de barra preenchida
Configur√°vel: Meta (ex: "Ler 12 livros"), Progresso Atual, Meta Total
Porcentagem calculada automaticamente
Estilos: Linear, Circular (usando recharts Radial Bar)

17. WidgetContadorRegressivo

Para metas com prazo (ex: "30 dias at√© a viagem")
Display grande do n√∫mero de dias restantes
√çcone de calend√°rio usando lucide-react (Calendar icon)

18. WidgetMetas3Meses

3 caixas grandes: M√™s 1, M√™s 2, M√™s 3
Cada m√™s com espa√ßo para 3-5 metas
Checkboxes para marcar conclus√£o

CATEGORIA: Financeiro
19. WidgetControleDeGastos

Categorias de gastos (Alimenta√ß√£o, Transporte, Lazer, etc.)
Cada categoria com √≠cone (lucide-react: ShoppingCart, Car, Film, etc.)
Campo para valor gasto
Total calculado automaticamente

20. WidgetPoupanca

Visual de "cofrinho enchendo"
Usa recharts para gr√°fico de progresso
Meta de economia vs. Valor atual
Porcentagem visual

CATEGORIA: Sa√∫de e Bem-Estar
21. WidgetTrackerDeSono

Grade de 30 dias
Cada dia mostra horas de sono (campo edit√°vel)
Cor da c√©lula muda conforme as horas (verde = 8h+, amarelo = 6-7h, vermelho = <6h)
√çcone de lua usando lucide-react (Moon icon)

22. WidgetRefeicoes

3-5 refei√ß√µes do dia (Caf√©, Almo√ßo, Lanche, Jantar, Ceia)
Cada refei√ß√£o com √≠cone (lucide-react: Coffee, UtensilsCrossed, Cookie)
Checkboxes para marcar "refei√ß√£o saud√°vel"

23. WidgetTrackerDeCiclo (para mulheres)

Calend√°rio mensal
Marca√ß√£o de dias do ciclo
√çcones discretos e cores suaves
Notas para sintomas

CATEGORIA: Criatividade e Estudos
24. WidgetBookTracker

Lista de livros para ler
Campos: T√≠tulo, Autor, P√°ginas
Progress bar individual por livro (recharts)
√çcone de livro (lucide-react: Book icon)

25. WidgetPomodoroPlanner

Grid para sess√µes de estudo
Cada sess√£o = 1 tomate visual
Contador de tomates completados
√çcone de timer (lucide-react: Timer icon)

26. WidgetIdeias

Espa√ßo livre para brainstorming
√çcone de l√¢mpada (lucide-react: Lightbulb)
Linhas ou grid de post-its visuais

CATEGORIA: Social e Relacionamentos
27. WidgetMemoriasDoMes

Grid 3x3 ou 2x3
Cada c√©lula para uma "mem√≥ria/foto"
Texto edit√°vel embaixo
√çcone de c√¢mera (lucide-react: Camera)

28. WidgetAniversarios

Lista de anivers√°rios do m√™s
Cada entrada com nome, data, √≠cone de bolo
Usa lucide-react: Cake icon


5. SISTEMA DE BLOCOS INTELIGENTES
Comportamento de Redimensionamento
Regras Gerais:

Todos os widgets t√™m minW (largura m√≠nima) e minH (altura m√≠nima) no grid
Ao aumentar altura: adicionar mais linhas/espa√ßo interno proporcionalmente
Ao aumentar largura: ajustar layout interno (ex: de 1 coluna para 2 colunas)

Exemplos Espec√≠ficos:
WidgetListaDeTarefas:

minH: 3 (3 tarefas m√≠nimas)
Se h: 6 ‚Üí mostrar 6-8 linhas de tarefas
Se h: 10 ‚Üí mostrar 12-15 linhas de tarefas

WidgetControleDeAgua:

minW: 4, minH: 2
Se w: 4 ‚Üí layout 2x4 (2 colunas, 4 linhas)
Se w: 8 ‚Üí layout 4x2 (4 colunas, 2 linhas)

WidgetTrackerDeHabitos:

minW: 8, minH: 4
Se redimensionado, ajustar tamanho das c√©lulas mantendo propor√ß√£o
Nunca deixar c√©lulas menores que 24px


6. PAINEL DE PROPRIEDADES (Sidebar Direita)
Quando um bloco est√° selecionado, mostrar:
Aba 1: Conte√∫do

Campos edit√°veis espec√≠ficos do widget
Exemplo (Lista de Tarefas): Input para adicionar nova tarefa, bot√£o para remover

Aba 2: Estilo

Cor de fundo (color picker usando react-colorful)
Cor da borda
Estilo da borda (s√≥lida, pontilhada, nenhuma)
Sombra (nenhuma, pequena, m√©dia, grande)
Padding interno (slider de 0-40px)

Aba 3: √çcones (se aplic√°vel)

Seletor de √≠cone do lucide-react
Busca por nome do √≠cone
Preview visual dos √≠cones
Tamanho do √≠cone (pequeno, m√©dio, grande)
Cor do √≠cone

Aba 4: Anima√ß√£o (se aplic√°vel)

Toggle para ativar/desativar anima√ß√µes
Tipo de anima√ß√£o (fade, slide, scale)
Velocidade (lenta, m√©dia, r√°pida)


7. BIBLIOTECA DE ASSETS VISUAIS
Sistema de Assets Prontos
Categorias na Sidebar Esquerda:
1. Ilustra√ß√µes

Elementos decorativos (flores, folhas, formas geom√©tricas)
N√£o s√£o SVGs do zero: usar bibliotecas como react-pattern ou assets pr√©-feitos do Figma/Freepik convertidos
Armazenar no Supabase Storage

2. Patterns de Fundo

Texturas sutis (dots, lines, grid)
Aplic√°veis ao fundo do canvas ou de blocos individuais
Opacidade ajust√°vel (10%-30%)

3. Divisores Decorativos

Linhas ornamentadas
Dispon√≠veis como componentes React prontos
Usar elementos simples do lucide-react combinados (ex: 3 estrelas em linha)

4. Badges e Labels

"Importante", "Urgente", "Feito", "Em Progresso"
Estilos: Outline, Filled, Soft
Cores adapt√°veis ao tema

5. Frames e Molduras

Bordas decorativas para envolver textos/imagens
Estilos: Simples, Floral, Geom√©trico, Vintage


8. FUNCIONALIDADES AVAN√áADAS DO EDITOR
8.1 Sistema de Layers (Camadas)
Painel de Layers na Sidebar Esquerda:

Lista de todos os widgets na ordem Z-index
Drag-and-drop para reordenar camadas
Bot√µes: "Trazer para Frente", "Enviar para Tr√°s"
√çcone de olho para mostrar/ocultar layer temporariamente
√çcone de cadeado para travar layer (n√£o pode mover/editar)

8.2 Guias e Alinhamento
Guias Visuais:

Linhas vermelhas/azuis aparecem ao arrastar para mostrar alinhamento com outros blocos
Snap para centro do canvas
Snap para bordas de outros blocos
R√©guas nas bordas do canvas (opcional, toggle)

8.3 Duplicar e Agrupar
Duplicar:

Bot√£o ou atalho Ctrl+D para duplicar bloco selecionado
Duplicata aparece levemente deslocada da original

Agrupar:

Selecionar m√∫ltiplos blocos (Ctrl+Click)
Bot√£o "Agrupar" trata m√∫ltiplos blocos como um s√≥
√ötil para templates complexos que n√£o devem se separar

8.4 Hist√≥rico (Undo/Redo)
Implementa√ß√£o:

Armazenar array de estados do layout_json
Ctrl+Z para desfazer (volta 1 estado)
Ctrl+Shift+Z para refazer
M√°ximo de 20 estados no hist√≥rico


9. GALERIA DE TEMPLATES P√öBLICOS MELHORADA
Layout Masonry Aprimorado
Cada Card de Template mostra:

Imagem preview (thumbnail 400x600px)
Nome do template
Categoria (badge colorido: "Planner", "Tracker", "Lista")
N√∫mero de blocos inclu√≠dos (ex: "12 widgets")
Tema visual usado (badge: "Minimalist Sage")
Bot√£o "Usar Template" com hover elegante

Filtros na Galeria:

Por Categoria: Todos, Planners, Trackers, Listas, Financeiro, Sa√∫de
Por Tema Visual: Todos os temas pr√©-configurados
Por Tamanho: Stories (1080x1920), Post Quadrado (1080x1080), A4 Digital
Barra de busca por palavra-chave

Ordena√ß√£o:

Mais Recentes
Mais Usados (contador de uso)
Alfab√©tica A-Z


10. TEMPLATES P√öBLICOS PR√â-CONFIGURADOS
15 Templates Essenciais para o Lan√ßamento
Categoria: Planners

Planner Semanal Minimalista

Tema: Minimalist Sage
Widgets: PlannerSemanal, ListaDeTarefas, PrioridadesDoDia
Canvas: 1080x1920 (Stories)


Planner Mensal Boho

Tema: Warm Boho
Widgets: PlannerMensal, Metas3Meses, MemoriasDoMes
Canvas: 1080x1350 (Post Instagram)


Dashboard de Produtividade

Tema: Corporate Blue
Widgets: HorarioDoMeuDia, ListaDeTarefas, ProgressBar
Canvas: 1920x1080 (Desktop wallpaper)



Categoria: Trackers
4. Tracker de H√°bitos 30 Dias

Tema: Soft Lavender
Widgets: TrackerDeHabitos, MoodTracker
Canvas: 1080x1920


Wellness Tracker Completo

Tema: Minimalist Sage
Widgets: ControleDeAgua, TrackerDeSono, Refeicoes, TrackerDeExercicios
Canvas: 1080x1920


Fitness Tracker Mensal

Tema: Monochrome Elegant
Widgets: TrackerDeExercicios, ProgressBar (peso), ControleDeAgua
Canvas: 1080x1350



Categoria: Financeiro
7. Controle Financeiro Mensal

Tema: Corporate Blue
Widgets: ControleDeGastos, Poupanca, Metas3Meses
Canvas: 1080x1920


Planejamento de Or√ßamento

Tema: Minimalist Sage
Widgets: ControleDeGastos (com categorias detalhadas), ProgressBar de economia
Canvas: 1080x1350



Categoria: Estudos
9. Planner de Estudos Semanal

Tema: Soft Lavender
Widgets: PlannerSemanal (com hor√°rios), PomodoroPlanner, ListaDeTarefas (mat√©rias)
Canvas: 1080x1920


Book Tracker Anual

Tema: Warm Boho
Widgets: BookTracker (12 livros), ProgressBar (meta de leitura)
Canvas: 1080x1350



Categoria: Bem-Estar
11. Self-Care Tracker
- Tema: Soft Lavender
- Widgets: TrackerDeHabitos (autocuidado), MoodTracker, Gratitude
- Canvas: 1080x1920

Ciclo Menstrual + Bem-Estar

Tema: Soft Lavender (cores ainda mais suaves)
Widgets: TrackerDeCiclo, MoodTracker, TrackerDeSono
Canvas: 1080x1920



Categoria: Criatividade
13. Brainstorm Board
- Tema: Monochrome Elegant
- Widgets: Ideias (3 blocos grandes), ListaDeTarefas (pr√≥ximos passos)
- Canvas: 1920x1080

Gratitude Journal

Tema: Warm Boho
Widgets: Gratitude (3 por dia), MemoriasDoMes, MoodTracker
Canvas: 1080x1920



Categoria: Social
15. Planejador de Conte√∫do (Creators)
- Tema: Corporate Blue
- Widgets: PlannerSemanal (posts), ListaDeTarefas (ideias), ProgressBar (meta de seguidores)
- Canvas: 1080x1920

11. FLUXO DE USU√ÅRIO COMPLETO
Jornada 1: Novo Usu√°rio Criando do Zero

Login/Cadastro ‚Üí P√°gina de boas-vindas
Tutorial Interativo (opcional, skip)

Passo 1: "Arraste um widget da biblioteca"
Passo 2: "Redimensione e posicione"
Passo 3: "Personalize no painel lateral"
Passo 4: "Salve e exporte"


Escolher Tamanho do Canvas

Stories Instagram (1080x1920)
Post Quadrado (1080x1080)
A4 Digital (2480x3508)
Desktop Wallpaper (1920x1080)


Escolher Tema Visual ‚Üí Grid visual dos 5 temas
Editor ‚Üí Canvas vazio com tema aplicado
Arrastar Widgets ‚Üí Personalizar
Salvar Template ‚Üí Modal: "Nome do template", "Descri√ß√£o" (opcional)
Exportar como PNG ‚Üí Download autom√°tico

Jornada 2: Usu√°rio Usando Template P√∫blico

Galeria de Templates
Filtrar/Buscar ‚Üí Encontrar template desejado
Clicar "Usar Template" ‚Üí Sistema duplica para o usu√°rio
Editor com Template Carregado
Personalizar (mudar textos, cores, mover blocos)
Salvar Vers√£o Personalizada
Exportar como PNG

Jornada 3: Usu√°rio Editando Template Salvo

Dashboard "Meus Templates" ‚Üí Lista de templates salvos
Clicar em Template ‚Üí Abre no Editor
Fazer Altera√ß√µes
Auto-save a cada 10 segundos (indicador visual: "Salvo √†s 14:32")
Bot√£o Manual "Salvar" dispon√≠vel
Exportar Quando Pronto


12. FUNCIONALIDADE DE EXPORTA√á√ÉO AVAN√áADA
Op√ß√µes de Exporta√ß√£o
Formato:

PNG (padr√£o, qualidade alta)
JPG (menor tamanho de arquivo)
PDF (para impress√£o)

Qualidade:

Baixa (para preview r√°pido)
M√©dia (para compartilhar em redes sociais)
Alta (para impress√£o ou uso profissional)

Resolu√ß√£o:

1x (tamanho original)
2x (para telas Retina)
3x (para impress√£o de alta qualidade)

Modal de Exporta√ß√£o
Interface:

Preview do resultado final
Toggles para incluir/excluir elementos:

"Incluir fundo" (sim/n√£o)
"Incluir margem de seguran√ßa" (para impress√£o)


Bot√£o "Baixar" com loading state
Op√ß√£o "Copiar para √Årea de Transfer√™ncia" (para colar direto no Instagram/etc)

Tecnologia

Usar html-to-image com configura√ß√µes otimizadas
toPng() para PNG
toJpeg() para JPG
Para PDF: converter PNG para PDF usando jsPDF


13. SISTEMA DE PERSIST√äNCIA E AUTO-SAVE
Auto-Save
Comportamento:

A cada 10 segundos, se houver mudan√ßas n√£o salvas
Ao mover um bloco, espera 3 segundos de inatividade antes de salvar
Indicador visual: "Salvando..." ‚Üí "Salvo √†s [hora]" ‚Üí "N√£o salvo" (se houver erro)

Dados Salvos:

layout_json completo (posi√ß√µes, tamanhos, conte√∫dos)
tema_id (tema visual ativo)
metadata (tags, descri√ß√£o)
atualizado_em (timestamp)

Conflitos de Vers√£o

Se o usu√°rio abrir o mesmo template em duas abas, a √∫ltima a salvar sobrescreve
Avisar com modal: "Este template foi editado em outra aba. Recarregar?"


14. RESPONSIVIDADE E ACESSIBILIDADE
Responsividade
Desktop (>1200px):

Sidebar esquerda: 280px (biblioteca de widgets)
Canvas: Centralizado, tamanho real com scroll se necess√°rio
Sidebar direita: 320px (propriedades)

Tablet (768px - 1199px):

Sidebars colaps√°veis (√≠cones para expandir)
Canvas centralizado com zoom-out autom√°tico para caber

Mobile (<768px):

Navega√ß√£o por abas inferior:

Aba 1: Widgets (abre drawer bottom-to-top)
Aba 2: Canvas (tela cheia)
Aba 3: Propriedades (abre drawer)


Canvas com zoom-out e pan (arrastar com dedo para mover visualiza√ß√£o)
Widgets arrast√°veis com long-press (segurar 0.5s antes de arrastar)

Acessibilidade
Keyboard Navigation:

Tab para navegar entre blocos
Setas para mover bloco selecionado (1px por tecla, 10px com Shift)
Delete para remover bloco selecionado
Ctrl+Z/Y para undo/redo

Screen Readers:

Aria-labels em todos os bot√µes e inputs
An√∫ncio de mudan√ßas: "Bloco movido para posi√ß√£o X, Y"

Contraste:

Todos os textos seguem WCAG AA (contraste m√≠nimo 4.5:1)
Modo de alto contraste dispon√≠vel (toggle)


15. PALETA DE CORES FINAL E IDENTIDADE VISUAL
Cores da Interface (UI do App)
Base:

Fundo principal: #F8F5F2 (Bege Nude)
Sidebar: #FFFFFF (Branco)
Bordas: #EAEAEA (Cinza Suave)
Texto prim√°rio: #3D3D3D (Grafite)
Texto secund√°rio: #A1A1A1 (Cinza M√©dio)

A√ß√µes:

Prim√°rio (bot√µes principais): #7A8A73 (Sage escuro do tema Minimalist)
Prim√°rio Hover: #6A7A63
Secund√°rio: #A8B5A0 (Sage m√©dio)
Perigo (deletar): #D97A7A (Vermelho suave)
Sucesso (salvo): `
Tentar novamenteTContinuarDiretriz T√©cnica COMPLETA: App Criador de Templates
Documento de Especifica√ß√£o para Desenvolvimento (CONTINUA√á√ÉO)

15. PALETA DE CORES FINAL E IDENTIDADE VISUAL (CONTINUA√á√ÉO)
A√ß√µes (continua√ß√£o):

Sucesso (salvo): #7AA88A (Verde suave)
Aviso (n√£o salvo): #E8B863 (Amarelo mostarda)
Informa√ß√£o: #7A9FB5 (Azul suave)

Estados:

Hover em cards/bot√µes: Adicionar shadow-md e scale-105
Focus em inputs: Border #7A8A73 com ring-2 em Sage claro
Disabled: Opacidade 50% + cursor not-allowed

Tipografia
Fontes Recomendadas:

Headings: font-family: 'DM Serif Display' ou 'Playfair Display' (serif elegante)
Body: font-family: 'Inter' ou 'DM Sans' (sans-serif clean)
Monospace (c√≥digo/n√∫meros): font-family: 'JetBrains Mono'

Tamanhos (Tailwind):

T√≠tulo principal (H1): text-4xl font-bold
T√≠tulo de se√ß√£o (H2): text-2xl font-semibold
Subt√≠tulo (H3): text-xl font-medium
Corpo normal: text-base
Texto pequeno (labels): text-sm
Texto micro (hints): text-xs


16. ANIMA√á√ïES E MICRO-INTERA√á√ïES COM FRAMER MOTION
Anima√ß√µes Obrigat√≥rias
1. Entrada de Widgets na Biblioteca (Sidebar):
Comportamento:
- Ao abrir categoria: widgets aparecem com stagger (um ap√≥s o outro)
- Anima√ß√£o: fadeIn + slideUp
- Dura√ß√£o: 0.3s
- Delay entre itens: 0.05s
2. Drag and Drop de Widgets:
Comportamento:
- Ao pegar widget: scale(1.1) + shadow-2xl
- Durante arrasto: cursor muda, widget semi-transparente
- Ao soltar no canvas: scale(1) + bounce suave
- Se soltar fora do canvas: volta para origem com spring animation
3. Sele√ß√£o de Bloco:
Comportamento:
- Ao clicar em bloco: border azul aparece com anima√ß√£o (scale da border)
- Handles de resize aparecem com fadeIn
- Painel de propriedades desliza da direita (slideInRight)
4. Bot√£o "Salvar Template":
Comportamento:
- Hover: scale(1.05) + brightness(1.1)
- Click: scale(0.95) ‚Üí volta scale(1)
- Salvando: √≠cone de loading rotacionando
- Sucesso: checkmark verde com bounce + fadeOut
5. Exporta√ß√£o:
Comportamento:
- Modal abre com fadeIn + scaleUp (de 0.9 para 1)
- Progress bar durante processamento (anima de 0-100%)
- Sucesso: confete animado + bot√£o "Baixar" pulsa
6. Hover em Cards de Template (Galeria):
Comportamento:
- Imagem: scale(1.05) com dura√ß√£o 0.4s
- Overlay escuro aparece com fadeIn
- Bot√£o "Usar Template" desliza de baixo (slideUp)
- T√≠tulo movimenta levemente para cima

17. ESTRUTURA DE PASTAS E COMPONENTES
Organiza√ß√£o Recomendada
/app
  /dashboard           ‚Üí P√°gina "Meus Templates"
  /editor/[id]         ‚Üí Editor principal
  /gallery             ‚Üí Galeria de templates p√∫blicos
  /auth                ‚Üí Login/Signup
  
/components
  /editor
    Canvas.tsx         ‚Üí Container do grid layout
    ToolBar.tsx        ‚Üí Barra superior (save, export, undo/redo)
    WidgetLibrary.tsx  ‚Üí Sidebar esquerda
    PropertiesPanel.tsx ‚Üí Sidebar direita
    LayersPanel.tsx    ‚Üí Painel de camadas
    
  /widgets             ‚Üí Todos os 28 widgets como componentes individuais
    WidgetTexto.tsx
    WidgetImagem.tsx
    WidgetListaDeTarefas.tsx
    ... (26 mais)
    
  /theme
    ThemeSelector.tsx  ‚Üí Seletor de tema visual
    ColorPicker.tsx    ‚Üí Picker de cor customizado
    
  /gallery
    TemplateCard.tsx   ‚Üí Card individual na galeria
    FilterBar.tsx      ‚Üí Barra de filtros
    
  /shared              ‚Üí Componentes reutiliz√°veis
    Button.tsx
    Input.tsx
    Modal.tsx
    Dropdown.tsx
    IconPicker.tsx     ‚Üí Seletor de √≠cones do lucide-react
    
/lib
  supabase.ts          ‚Üí Cliente do Supabase
  exportImage.ts       ‚Üí L√≥gica de exporta√ß√£o com html-to-image
  widgetRegistry.ts    ‚Üí Registro de todos os widgets dispon√≠veis
  themeConfig.ts       ‚Üí Configura√ß√£o dos 5 temas
  
/hooks
  useAutoSave.ts       ‚Üí Hook de auto-save
  useGridLayout.ts     ‚Üí Hook para gerenciar react-grid-layout
  useWidgets.ts        ‚Üí Hook para adicionar/remover widgets
  useTheme.ts          ‚Üí Hook para aplicar tema selecionado
  
/types
  template.types.ts    ‚Üí Tipos TypeScript para templates
  widget.types.ts      ‚Üí Tipos para widgets
  theme.types.ts       ‚Üí Tipos para temas

18. WIDGETS: ESPECIFICA√á√ïES T√âCNICAS DETALHADAS
Estrutura Base de Todo Widget
Interface TypeScript:
typescriptinterface BaseWidget {
  id: string;                    // Identificador √∫nico
  tipo: string;                  // Nome do widget
  posicao: GridPosition;         // x, y, w, h do react-grid-layout
  conteudo: Record<string, any>; // Dados espec√≠ficos do widget
  estilo: WidgetStyle;           // Cores, bordas, sombras
  tema_id?: string;              // Tema aplicado (opcional)
}

interface GridPosition {
  i: string;  // ID do item
  x: number;  // Posi√ß√£o X no grid (0-11 para 12 colunas)
  y: number;  // Posi√ß√£o Y no grid
  w: number;  // Largura em unidades de grid
  h: number;  // Altura em unidades de grid
  minW?: number;
  minH?: number;
  maxW?: number;
  maxH?: number;
}

interface WidgetStyle {
  backgroundColor: string;
  borderColor?: string;
  borderWidth?: number;
  borderStyle?: 'solid' | 'dashed' | 'dotted' | 'none';
  borderRadius?: string;
  shadow?: 'none' | 'sm' | 'md' | 'lg' | 'xl';
  padding?: number;
}
Especifica√ß√£o Individual dos Widgets Principais
Widget 1: WidgetTexto
Conte√∫do:
typescript{
  texto: string;
  tipo_texto: 'titulo' | 'subtitulo' | 'paragrafo' | 'citacao';
  alinhamento: 'left' | 'center' | 'right' | 'justify';
  cor_texto: string;
  tamanho_customizado?: number; // em px, opcional
}
Comportamento de Redimensionamento:

Altura aumenta: texto ocupa espa√ßo vertical proporcionalmente
Largura aumenta: texto quebra menos linhas
M√≠nimo: minW: 3, minH: 1

Painel de Propriedades:

Textarea para editar texto
Dropdown para tipo de texto
Bot√µes de alinhamento (4 op√ß√µes)
Color picker para cor do texto
Slider para tamanho (opcional, sobrescreve tema)


Widget 12: WidgetControleDeAgua (EXEMPLO COMPLETO)
Conte√∫do:
typescript{
  meta_copos: number;           // 8 padr√£o
  copos_preenchidos: number;    // 0-8
  estilo_copo: 'outline' | 'filled';
  cor_agua: string;             // #4A90E2 padr√£o
  mostrar_contador: boolean;    // true = mostra "5/8"
  layout: 'linha' | 'grid';     // linha = 1x8, grid = 2x4
}
```

**Implementa√ß√£o Visual:**
- Usar `lucide-react` √≠cone `<GlassWater />` 
- Estado vazio: `<GlassWater className="stroke-gray-300" />`
- Estado cheio: `<GlassWater className="fill-blue-400 stroke-blue-500" />`
- Tamanho do √≠cone: `size={32}` (ajust√°vel)

**Anima√ß√£o (Framer Motion):**
```
Ao clicar em copo vazio:
- Anima√ß√£o de "preenchimento": scale(1.2) ‚Üí scale(1)
- Cor transiciona de gray para azul (duration: 0.4s)
- N√∫mero do contador incrementa com spring animation
Comportamento de Redimensionamento:

minW: 4, minH: 2 (m√≠nimo para 2x4 copos)
Se w: 8: layout muda para 4x2 ou 1x8 (dependendo de h)
Se h: 4: pode comportar at√© 12 copos em grid 3x4

Painel de Propriedades:

Slider: Meta de copos (1-12)
Number input: Copos preenchidos (0-meta)
Toggle: Mostrar contador visual
Color picker: Cor da √°gua
Radio buttons: Layout (linha / grid)


Widget 11: WidgetTrackerDeHabitos (EXEMPLO COMPLETO)
Conte√∫do:
typescript{
  habitos: Array<{
    id: string;
    nome: string;
    icone: string;           // Nome do √≠cone do lucide-react
    cor_icone: string;
  }>;
  dias_mes: number;          // 28, 30 ou 31
  progresso: Record<string, boolean[]>; // Ex: {"habito1": [true, false, true, ...]}
  mostrar_streak: boolean;   // Mostrar contagem de dias consecutivos
}
```

**Implementa√ß√£o Visual:**
- Grid CSS: `grid-template-columns: 150px repeat(31, 1fr)`
- Primeira coluna: Nome do h√°bito + √≠cone
- Outras colunas: Checkboxes visuais (um por dia)
- Checkbox marcado: Usa `<CheckSquare />` do lucide-react
- Checkbox vazio: Usa `<Square />` do lucide-react

**C√°lculo de Streak:**
```
L√≥gica:
- Percorrer array de progresso de tr√°s para frente
- Contar dias consecutivos com true
- Parar no primeiro false
- Mostrar badge: "üî• 7 dias"
Comportamento de Redimensionamento:

minW: 8, minH: 4
Altura aumenta: adicionar mais h√°bitos (at√© 15 m√°ximo)
Altura diminui: mostrar apenas os primeiros N h√°bitos (com scroll interno)
Largura: ajustar tamanho das c√©lulas proporcionalmente

Painel de Propriedades:

Lista edit√°vel de h√°bitos (adicionar/remover/reordenar)
Para cada h√°bito:

Input: Nome do h√°bito
IconPicker: Escolher √≠cone do lucide-react
Color picker: Cor do √≠cone


Number input: Dias do m√™s (28/30/31)
Toggle: Mostrar streak


Widget 16: WidgetProgressBar (EXEMPLO COMPLETO)
Conte√∫do:
typescript{
  titulo: string;              // "Ler 12 livros em 2024"
  valor_atual: number;         // 7
  valor_meta: number;          // 12
  tipo_barra: 'linear' | 'circular';
  mostrar_porcentagem: boolean;
  cor_preenchimento: string;   // Segue tema ou customizado
  cor_fundo: string;
}
```

**Implementa√ß√£o com Recharts:**

**Linear:**
```
Usar componente <BarChart> do recharts
- 1 barra horizontal
- Preenchimento animado de 0 at√© (valor_atual/valor_meta * 100)%
- Anima√ß√£o: duration 1000ms, easeOut
```

**Circular:**
```
Usar componente <RadialBarChart> do recharts
- C√≠rculo com preenchimento radial
- Centro mostra: valor_atual + "/" + valor_meta
- Porcentagem abaixo em texto menor
```

**Comportamento de Redimensionamento:**
- Linear: `minW: 6, minH: 2`
- Circular: `minW: 4, minH: 4` (deve ser quadrado)
- Redimensionar mant√©m propor√ß√£o do gr√°fico

**Painel de Propriedades:**
- Input: T√≠tulo da meta
- Number input: Valor atual
- Number input: Valor meta
- Radio buttons: Tipo de barra (linear/circular)
- Toggle: Mostrar porcentagem
- Color picker: Cor do preenchimento
- Color picker: Cor de fundo da barra

---

## 19. SISTEMA DE √çCONES (LUCIDE-REACT)

### Implementa√ß√£o do IconPicker

**Componente IconPicker:**
```
Funcionalidade:
- Input de busca: filtra √≠cones por nome
- Grid de √≠cones (8 colunas)
- Cada √≠cone √© clic√°vel
- √çcone selecionado tem border azul
- Preview do √≠cone selecionado grande no topo
```

**√çcones Mais Usados (Pr√©-selecionados):**

**Produtividade:**
- CheckSquare, Square, Circle, Star, Heart
- Flag, AlertCircle, Clock, Calendar
- Clipboard, FileText, BookOpen

**Sa√∫de:**
- GlassWater, Droplets, Utensils, Apple
- Moon, Sun, Activity, Heart
- Dumbbell, Bike, FootprintsIcon

**Financeiro:**
- DollarSign, TrendingUp, PiggyBank, Wallet
- CreditCard, ReceiptText, Calculator

**Social:**
- Users, User, MessageCircle, Mail
- Phone, Camera, Image, Gift
- Cake, PartyPopper

**Natureza:**
- Flower, Leaf, TreePine, Sprout
- Cloud, CloudRain, Snowflake, Flame

**Formas:**
- Square, Circle, Triangle, Diamond
- Star, Heart, Hexagon

### Uso nos Widgets

**Regra:** Todo widget que tenha lista ou itens repetitivos DEVE permitir escolha de √≠cone customizado via IconPicker.

**Exemplos:**
- **ListaDeTarefas:** Cada tarefa pode ter √≠cone pr√≥prio
- **TrackerDeHabitos:** Cada h√°bito tem √≠cone representativo
- **PrioridadesDoDia:** √çcones de flag com cores diferentes
- **ControleDeAgua:** √çcone GlassWater obrigat√≥rio
- **Refeicoes:** Coffee, UtensilsCrossed, Cookie, etc.

---

## 20. EXPORTA√á√ÉO: ESPECIFICA√á√ïES T√âCNICAS

### Implementa√ß√£o com html-to-image

**Prepara√ß√£o do Canvas para Exporta√ß√£o:**

1. **Ocultar Elementos de UI:**
   - Antes de exportar: adicionar classe `.export-mode` no body
   - CSS: `.export-mode .grid-handles { display: none; }`
   - Ocultar: handles de resize, borders de sele√ß√£o, bot√µes de a√ß√£o

2. **Garantir Fontes Carregadas:**
   - Usar `document.fonts.ready.then()` antes de exportar
   - Evita fontes faltando na imagem final

3. **Configura√ß√£o do html-to-image:**
```
Op√ß√µes:
- quality: 1.0 (m√°xima qualidade)
- pixelRatio: 2 (para Retina) ou 3 (para impress√£o)
- backgroundColor: '#FFFFFF' (ou cor do tema)
- cacheBust: true (evita cache de imagens antigas)
- skipAutoScale: false (respeita zoom do navegador)
```

4. **Processamento:**
```
Fluxo:
1. Adicionar classe .export-mode
2. Aguardar document.fonts.ready
3. Chamar toPng() ou toJpeg() com configura√ß√µes
4. Receber blob da imagem
5. Remover classe .export-mode
6. Criar URL tempor√°rio do blob
7. Criar elemento <a> com download
8. Clicar automaticamente
9. Revogar URL tempor√°rio
Op√ß√µes de Exporta√ß√£o na UI
Modal de Exporta√ß√£o:
Se√ß√£o 1: Formato

Radio buttons: PNG (padr√£o) / JPG / PDF
Texto explicativo: "PNG para transpar√™ncia, JPG para menor tamanho"

Se√ß√£o 2: Qualidade

Slider: Baixa (1x) / M√©dia (2x) / Alta (3x)
Preview do tamanho do arquivo estimado: "~2.3 MB"

Se√ß√£o 3: Configura√ß√µes Adicionais

Toggle: "Incluir fundo" (se off, fundo transparente em PNG)
Toggle: "Adicionar marca d'√°gua" (nome do app no canto)
Toggle: "Adicionar margem" (20px ao redor, √∫til para impress√£o)

Se√ß√£o 4: A√ß√£o

Bot√£o prim√°rio: "Baixar Imagem"
Bot√£o secund√°rio: "Copiar para √Årea de Transfer√™ncia"
Loading state durante processamento

Tratamento de Erros
Erros Comuns:

Fontes n√£o carregadas: Aguardar 2s extra e tentar novamente
Canvas muito grande: Avisar usu√°rio e sugerir reduzir qualidade
Imagens externas n√£o carregam: Avisar que imagens precisam ter CORS habilitado
Blob muito grande: Comprimir JPG automaticamente


21. SEGURAN√áA E POL√çTICAS RLS (SUPABASE)
Row Level Security Policies
Tabela: templates_usuario
Policy 1: SELECT (Leitura)
sqlNome: "Usu√°rios s√≥ veem seus pr√≥prios templates"
Condi√ß√£o: auth.uid() = user_id
Policy 2: INSERT (Cria√ß√£o)
sqlNome: "Usu√°rios s√≥ criam templates para si mesmos"
Condi√ß√£o: auth.uid() = user_id
Policy 3: UPDATE (Edi√ß√£o)
sqlNome: "Usu√°rios s√≥ editam seus pr√≥prios templates"
Condi√ß√£o: auth.uid() = user_id
Policy 4: DELETE (Exclus√£o)
sqlNome: "Usu√°rios s√≥ deletam seus pr√≥prios templates"
Condi√ß√£o: auth.uid() = user_id
Tabela: templates_publicos
Policy 1: SELECT
sqlNome: "Todos podem ver templates p√∫blicos"
Condi√ß√£o: true (sem restri√ß√£o)
Policy 2-4: INSERT/UPDATE/DELETE
sqlNome: "Apenas admins modificam templates p√∫blicos"
Condi√ß√£o: auth.jwt() ->> 'role' = 'admin'
Tabela: temas_visuais
Policy: SELECT
sqlNome: "Todos podem ver temas"
Condi√ß√£o: true
Tabela: biblioteca_assets
Policy: SELECT
sqlNome: "Todos podem ver assets"
Condi√ß√£o: true
```

### Valida√ß√µes no Backend (Supabase Functions)

**Fun√ß√£o: validar_layout_json**
```
Valida√ß√µes:
- Verificar se layout_json est√° bem formado
- Garantir que widgets referenciados existem no widgetRegistry
- Validar dimens√µes do canvas (n√£o aceitar > 10000px)
- Limitar n√∫mero de widgets por template (m√°ximo 50)
```

**Fun√ß√£o: criar_template_de_publico**
```
Fluxo:
1. Usu√°rio clica "Usar Template" em um template p√∫blico
2. Backend duplica o layout_json do template p√∫blico
3. Cria novo registro em templates_usuario com user_id do usu√°rio atual
4. Retorna ID do novo template
5. Frontend redireciona para /editor/[novo_id]
```

---

## 22. PERFORMANCE E OTIMIZA√á√ÉO

### Otimiza√ß√µes Cr√≠ticas

**1. Lazy Loading de Widgets:**
```
- N√£o carregar todos os 28 componentes de widgets no bundle inicial
- Usar dynamic imports do Next.js
- Carregar widget apenas quando arrastado para o canvas
```

**2. Memoiza√ß√£o com React:**
```
- Usar React.memo() em todos os componentes de widget
- Evitar re-renders desnecess√°rios quando outros widgets mudam
- Usar useMemo para c√°lculos pesados (ex: porcentagem de progresso)
```

**3. Debounce no Auto-Save:**
```
- Usar lodash debounce ou custom hook
- Aguardar 3s de inatividade antes de salvar no Supabase
- Evitar requests excessivos durante edi√ß√£o r√°pida
```

**4. Virtualiza√ß√£o da Galeria:**
```
- Usar react-window ou react-virtualized
- Renderizar apenas os cards vis√≠veis no viewport
- Lazy load de imagens de preview (usar Intersection Observer)
```

**5. Otimiza√ß√£o do html-to-image:**
```
- Cachear imagens j√° convertidas para base64
- Processar em Web Worker se poss√≠vel
- Mostrar loading skeleton durante processamento
```

**6. Bundle Size:**
```
- Tree-shaking do lucide-react (importar apenas √≠cones usados)
- Considerar import din√¢mico do recharts (s√≥ carregar quando widget de gr√°fico √© usado)
- Comprimir imagens de assets para WebP

23. TESTES E QUALIDADE
Casos de Teste Essenciais
Teste 1: Criar Template do Zero

Usu√°rio logado acessa /editor/novo
Arrasta 3 widgets diferentes para o canvas
Redimensiona e move widgets
Salva template com nome
Verifica se aparece em "Meus Templates"

Teste 2: Usar Template P√∫blico

Usu√°rio acessa galeria
Clica "Usar Template" em um template
Verifica se abre no editor com conte√∫do correto
Edita conte√∫do de um widget
Salva e exporta como PNG

Teste 3: Persist√™ncia de Dados

Cria template, adiciona widgets
Fecha navegador
Reabre e acessa o mesmo template
Verifica se tudo est√° igual

Teste 4: Colis√£o de Widgets

Arrasta widget sobre outro
Verifica se n√£o h√° sobreposi√ß√£o
Verifica se o grid reorganiza automaticamente

Teste 5: Exporta√ß√£o

Cria template simples
Exporta como PNG, JPG e PDF
Verifica qualidade e tamanho dos arquivos
Verifica se fontes est√£o corretas

Teste 6: Responsividade

Abre editor em mobile
Verifica se canvas est√° vis√≠vel completo (com zoom out)
Testa arrastar widgets com touch
Testa abrir sidebars

Teste 7: Performance com Muitos Widgets

Adiciona 30+ widgets no canvas
Verifica se UI continua fluida
Testa auto-save com muitos dados


24. ROADMAP DE FUNCIONALIDADES FUTURAS
Fase 2 (P√≥s-Lan√ßamento)






4. Integra√ß√µes

Exportar direto para Google Drive
Publicar direto no Instagram Stories
Integra√ß√£o com Notion (criar p√°gina com template)

5. IA Assistida

"Gerar template baseado em descri√ß√£o"
Sugest√µes de layout inteligentes
Auto-completar textos com IA

6. Versioning

Hist√≥rico de vers√µes do template
Restaurar vers√µes antigas
Comparar mudan√ßas entre vers√µes

7. Assets Customizados

Upload de fontes pr√≥prias
Upload de √≠cones/ilustra√ß√µes customizadas
Biblioteca pessoal de assets


25. M√âTRICAS E ANALYTICS
Eventos para Rastrear
Engajamento:

template_criado
template_salvo
template_exportado (formato: PNG/JPG/PDF)
template_publico_usado
widget_adicionado (qual widget)
tema_aplicado (qual tema)

Convers√£o:

usuario_cadastrado
primeiro_template_criado
primeiro_export_realizado

Performance:

tempo_medio_edicao
tempo_para_primeiro_export
numero_widgets_por_template (m√©dia)

Erros:

erro_exportacao
erro_auto_save
erro_upload_imagem

Implementa√ß√£o

Usar Supabase Analytics ou Plausible
GDPR compliant (sem cookies desnecess√°rios)
Dashboard interno para admin visualizar m√©tricas


26. DOCUMENTA√á√ÉO PARA O USU√ÅRIO
Help Center Integrado
Se√ß√µes:
1. Primeiros Passos

Como criar sua primeira template
Tutorial em v√≠deo (2 min)
GIFs animados de cada a√ß√£o

2. Widgets Explicados

P√°gina dedicada para cada widget
Casos de uso recomendados
Exemplos visuais

3. Temas e Personaliza√ß√£o

Como escolher um tema
Como customizar cores
Boas pr√°ticas de design

4. Exporta√ß√£o e Uso

Diferen√ßas entre PNG/JPG/PDF
Qual qualidade escolher
Como usar no Instagram/Notion/etc

5. Troubleshooting

FAQ de problemas comuns
Como reportar bugs
Contato de suporte

Tooltips In-App

Hover em qualquer bot√£o mostra tooltip explicativo
Primeiros acessos: tour guiado interativo (opcional)
√çcones de "?" ao lado de funcionalidades complexas


27. CHECKLIST DE IMPLEMENTA√á√ÉO
Fase 1: Setup e Estrutura

 Configurar projeto Next.js com App Router
 Instalar todas as depend√™ncias listadas
 Configurar Tailwind CSS
 Configurar Supabase (Auth + Database)
 Criar estrutura de pastas

Fase 2: Banco de Dados

 Criar tabela templates_publicos
 Criar tabela templates_usuario
 Criar tabela temas_visuais
 Criar tabela biblioteca_assets
 Configurar RLS policies
 Povoar temas_visuais com os 5 temas

Fase 3: Autentica√ß√£o

 Implementar p√°gina de login
 Implementar p√°gina de cadastro
 Configurar Auth do Supabase
 Implementar prote√ß√£o de rotas

Fase 4: Editor Base

 Criar componente Canvas
 Integrar react-grid-layout
 Implementar arrastar e soltar
 Implementar redimensionamento
 Implementar evitar sobreposi√ß√£o

Fase 5: Widgets (Criar os 28)

 WidgetTexto
 WidgetImagem
 WidgetDivisor
 WidgetListaDeTarefas
 WidgetListaNumerada
 WidgetListaComPontos
 WidgetPlannerSemanal
 WidgetPlannerMensal
 WidgetPrioridadesDoDia
 WidgetHorarioDoMeuDia
 WidgetTrackerDeHabitos
 WidgetControleDeAgua
 WidgetMoodTracker
 WidgetTrackerDeExercicios
 WidgetGratitude
 WidgetProgressBar
 WidgetContadorRegressivo
 WidgetMetas3Meses
 WidgetControleDeGastos
 WidgetPoupanca
 WidgetTrackerDeSono
 WidgetRefeicoes
 WidgetTrackerDeCiclo
 WidgetBookTracker
 WidgetPomodoroPlanner
 WidgetIdeias
 WidgetMemoriasDoMes
 WidgetAniversarios

Fase 6: UI do Editor

 Sidebar esquerda (Biblioteca de Widgets)
 Sidebar direita (Painel de Propriedades)
 Toolbar superior (Save, Export, Undo/Redo)
 Painel de Layers
 Theme Selector

Fase 7: Funcionalidades Avan√ßadas

 Auto-save implementado
 Undo/Redo funcionando
 Sistema de temas aplicado
 IconPicker criado
 ColorPicker customizado

Fase 8: Exporta√ß√£o

 Integrar html-to-image
 Implementar export para PNG
 Implementar export para JPG
 Implementar export para PDF
 Modal de exporta√ß√£o com op√ß√µes

Fase 9: Galeria

 P√°gina de galeria de templates p√∫blicos
 Layout Masonry implementado
 Filtros funcionando
 Busca funcionando
 Cards com hover animado

Fase 10: Templates P√∫blicos

 Criar os 15 templates pr√©-configurados
 Gerar imagens de preview
 Inserir no banco de dados
 Testar "Usar Template"

Fase 11: Dashboard do Usu√°rio

 P√°gina "Meus Templates"
 Lista de templates salvos
 Op√ß√µes: Editar
Tentar novamenteTContinuarDiretriz T√©cnica COMPLETA: App Criador de Templates
Documento de Especifica√ß√£o para Desenvolvimento (CONTINUA√á√ÉO FINAL)

27. CHECKLIST DE IMPLEMENTA√á√ÉO (CONTINUA√á√ÉO)
Fase 11: Dashboard do Usu√°rio (continua√ß√£o)

 Op√ß√µes: Editar, Duplicar, Deletar
 Cards com preview dos templates
 Ordena√ß√£o por data de cria√ß√£o/modifica√ß√£o
 Busca dentro dos pr√≥prios templates
 Indicador de "n√£o salvo" em templates com mudan√ßas

Fase 12: Anima√ß√µes

 Implementar anima√ß√µes com Framer Motion
 Anima√ß√£o de entrada de widgets na biblioteca
 Anima√ß√£o de drag and drop
 Anima√ß√£o de sele√ß√£o de blocos
 Anima√ß√£o de bot√µes (hover, click)
 Anima√ß√£o de modal de exporta√ß√£o
 Anima√ß√£o de hover em cards da galeria
 Micro-anima√ß√µes em checkboxes, progress bars

Fase 13: Responsividade

 Adaptar editor para tablet
 Adaptar editor para mobile
 Sidebars colaps√°veis em telas menores
 Canvas com zoom-out autom√°tico em mobile
 Navega√ß√£o por abas em mobile
 Touch gestures para arrastar widgets

Fase 14: Acessibilidade

 Implementar navega√ß√£o por teclado
 Adicionar aria-labels em elementos interativos
 Garantir contraste WCAG AA
 Testar com screen readers
 Implementar modo de alto contraste (opcional)
 Focus visible em todos os elementos interativos

Fase 15: Performance

 Implementar lazy loading de widgets
 Memoizar componentes com React.memo
 Implementar debounce no auto-save
 Virtualizar galeria de templates
 Otimizar exporta√ß√£o com html-to-image
 Reduzir bundle size (tree-shaking, code splitting)

Fase 16: Testes

 Testar cria√ß√£o de template do zero
 Testar uso de template p√∫blico
 Testar persist√™ncia de dados (fechar/reabrir)
 Testar colis√£o de widgets
 Testar exporta√ß√£o em todos os formatos
 Testar responsividade em diferentes dispositivos
 Testar performance com 30+ widgets
 Testar em diferentes navegadores (Chrome, Firefox, Safari)

Fase 17: Polimento Final

 Revis√£o de todos os textos (copywriting)
 Verificar consist√™ncia visual em todo o app
 Adicionar loading states onde necess√°rio
 Adicionar empty states (ex: "Nenhum template criado ainda")
 Adicionar mensagens de erro amig√°veis
 Adicionar success notifications (toast)
 Testar fluxo completo de ponta a ponta

Fase 18: Documenta√ß√£o e Ajuda

 Criar Help Center integrado
 Escrever documenta√ß√£o de cada widget
 Gravar v√≠deo tutorial de 2min
 Criar GIFs animados para a√ß√µes principais
 Implementar tooltips in-app
 Criar tour guiado para novos usu√°rios (opcional)

Fase 19: Analytics e M√©tricas

 Configurar Supabase Analytics ou Plausible
 Implementar tracking de eventos principais
 Criar dashboard de m√©tricas para admin
 Configurar alertas de erro

Fase 20: Deploy e Lan√ßamento

 Configurar ambiente de produ√ß√£o no Vercel
 Configurar vari√°veis de ambiente
 Testar build de produ√ß√£o
 Configurar dom√≠nio customizado
 Configurar SSL/HTTPS
 Fazer soft launch com usu√°rios beta
 Coletar feedback inicial
 Ajustar bugs cr√≠ticos
 Lan√ßamento p√∫blico


28. ESPECIFICA√á√ïES DE ASSETS VISUAIS
Imagens de Preview dos Templates P√∫blicos
Especifica√ß√µes T√©cnicas:

Formato: PNG ou WebP
Dimens√µes: 400x600px (propor√ß√£o 2:3)
Qualidade: Alta (para visualiza√ß√£o na galeria)
Armazenamento: Supabase Storage bucket "template-previews"
Naming convention: {template_id}_preview.png

Como Gerar:

Criar o template no editor
Usar fun√ß√£o de exporta√ß√£o em alta qualidade
Redimensionar para 400x600px mantendo propor√ß√£o
Upload para Supabase Storage
Salvar URL no campo imagem_preview da tabela

Biblioteca de Assets
Categorias e Conte√∫do Inicial:
1. Ilustra√ß√µes Decorativas (10-15 itens)

Flores simples (outline style)
Folhas e plantas
Formas geom√©tricas (c√≠rculos, tri√¢ngulos decorativos)
Estrelas e sparkles
Cora√ß√µes outline

Fonte Recomendada:

Freepik (licen√ßa gratuita com atribui√ß√£o)
unDraw (ilustra√ß√µes customiz√°veis)
Figma Community (buscar "decorative elements")

2. Patterns de Fundo (5-8 itens)

Dots pattern (pontos espa√ßados)
Lines pattern (linhas diagonais sutis)
Grid pattern (grade fina)
Waves pattern (ondas suaves)
Confetti pattern (pontos coloridos aleat√≥rios)

Implementa√ß√£o:

CSS background-image com repeat
SVG inline ou CSS puro
Opacidade de 5-15% para n√£o interferir com conte√∫do

3. Divisores Decorativos (8-10 itens)

Linha com estrela central
Linha com cora√ß√£o central
Linha ondulada
Linha dupla
Linha com pontos nas pontas
Linha com folha central

Implementa√ß√£o:

Componentes React com lucide-react icons
Flexbox para centralizar √≠cones
Border-top/bottom para linhas

4. Badges e Labels (pr√©-configurados)

"Importante" (vermelho suave)
"Urgente" (laranja)
"Feito" (verde)
"Em Progresso" (azul)
"Pausado" (cinza)
"Alta Prioridade" (vermelho)
"M√©dia Prioridade" (amarelo)
"Baixa Prioridade" (verde)

Estilos:

Outline: border 2px, fundo transparente
Filled: fundo colorido, texto branco
Soft: fundo colorido 20% opacidade, texto colorido


29. GUIA DE ESTILO PARA DESENVOLVIMENTO
Conven√ß√µes de C√≥digo
Nomenclatura:

Componentes: PascalCase (ex: WidgetTexto.tsx)
Fun√ß√µes/hooks: camelCase (ex: useAutoSave.ts)
Constantes: UPPER_SNAKE_CASE (ex: DEFAULT_CANVAS_SIZE)
Arquivos de tipos: .types.ts (ex: widget.types.ts)

Estrutura de Componente Widget:
typescript// widget-exemplo.tsx

import { useState } from 'react';
import { motion } from 'framer-motion';
import { IconName } from 'lucide-react';
import { WidgetProps } from '@/types/widget.types';

interface WidgetExemploProps extends WidgetProps {
  // Props espec√≠ficas deste widget
}

export function WidgetExemplo({ 
  id, 
  conteudo, 
  estilo, 
  onUpdate 
}: WidgetExemploProps) {
  const [localState, setLocalState] = useState(conteudo);
  
  const handleChange = (newValue: any) => {
    setLocalState(newValue);
    onUpdate(id, newValue);
  };
  
  return (
    <motion.div
      className="widget-container"
      style={{
        backgroundColor: estilo.backgroundColor,
        borderRadius: estilo.borderRadius,
        padding: estilo.padding,
      }}
      initial={{ opacity: 0, scale: 0.9 }}
      animate={{ opacity: 1, scale: 1 }}
      transition={{ duration: 0.3 }}
    >
      {/* Conte√∫do do widget */}
    </motion.div>
  );
}

// Configura√ß√£o padr√£o do widget (para biblioteca)
WidgetExemplo.defaultConfig = {
  tipo: 'exemplo',
  nome: 'Widget Exemplo',
  categoria: 'texto',
  icone: 'IconName',
  minW: 4,
  minH: 2,
  defaultContent: {
    // Conte√∫do inicial padr√£o
  },
  defaultStyle: {
    backgroundColor: '#FFFFFF',
    borderRadius: '8px',
    padding: 16,
  }
};
Coment√°rios:

Comentar l√≥gica complexa ou n√£o √≥bvia
N√£o comentar c√≥digo √≥bvio
Usar JSDoc para fun√ß√µes/componentes exportados
TODO: para tarefas pendentes
FIXME: para bugs conhecidos

Formata√ß√£o:

Usar Prettier com configura√ß√£o padr√£o
Aspas simples para strings
Semicolons obrigat√≥rios
Trailing commas em objetos/arrays


30. GLOSS√ÅRIO DE TERMOS
Canvas: A √°rea de trabalho onde o usu√°rio monta seu template
Widget: Bloco funcional arrast√°vel (tarefa, planner, tracker, etc)
Grid Layout: Sistema de grade invis√≠vel que organiza os widgets
Tema Visual: Conjunto pr√©-configurado de cores, tipografia e estilos
Template P√∫blico: Modelo pronto criado pelo admin, dispon√≠vel para todos
Template de Usu√°rio: Design salvo criado/personalizado pelo usu√°rio
Layout JSON: Estrutura de dados que define posi√ß√µes e conte√∫dos dos widgets
Handle: Pequenos quadrados nos cantos dos widgets para redimensionar
Snap: Comportamento de "encaixe" autom√°tico em grid ou alinhamento
Streak: Sequ√™ncia de dias consecutivos (usado em trackers de h√°bitos)
Export: A√ß√£o de converter o canvas em imagem (PNG/JPG/PDF)
Auto-save: Salvamento autom√°tico peri√≥dico do progresso
RLS (Row Level Security): Sistema de seguran√ßa do Supabase baseado em linhas
Asset: Elemento visual (√≠cone, ilustra√ß√£o, pattern) da biblioteca
Layer (Camada): N√≠vel de profundidade de um widget no canvas (z-index)

31. CRIT√âRIOS DE SUCESSO DO PRODUTO
M√©tricas de Lan√ßamento (Primeiros 30 dias)
Engajamento:

500+ usu√°rios cadastrados
70% dos usu√°rios criam pelo menos 1 template
50% dos usu√°rios exportam ao menos 1 imagem
Tempo m√©dio de sess√£o: 8+ minutos

Qualidade:

0 bugs cr√≠ticos (que impedem uso do app)
Tempo de carregamento do editor: < 3 segundos
Tempo de exporta√ß√£o: < 5 segundos
Taxa de sucesso de exporta√ß√£o: > 95%

Satisfa√ß√£o:

NPS (Net Promoter Score): > 40
Feedback positivo em 70%+ das avalia√ß√µes
Taxa de abandono no onboarding: < 30%

Performance T√©cnica:

Disponibilidade (uptime): > 99%
Core Web Vitals no verde (Lighthouse)
Sem memory leaks no uso prolongado

Indicadores de Product-Market Fit
Sinais Positivos:

Usu√°rios voltam 3+ vezes na primeira semana
Usu√°rios criam 5+ templates no primeiro m√™s
Taxa de reten√ß√£o D7 (Day 7): > 40%
Feedback espont√¢neo: "Isso √© exatamente o que eu precisava!"

Sinais de Alerta:

Usu√°rios abandonam na cria√ß√£o do primeiro template
Ningu√©m usa templates p√∫blicos (galeria ignorada)
Feedback: "√â muito complicado"
Alta taxa de erro em exporta√ß√µes
Usu√°rios pedem funcionalidades que j√° existem (UI n√£o clara)


32. ESTRAT√âGIA DE MONETIZA√á√ÉO (FUTURO)
Modelo Freemium (Recomendado)
Plano Gratuito:

At√© 5 templates salvos
Todos os widgets dispon√≠veis
Exporta√ß√£o em PNG/JPG (qualidade m√©dia)
Marca d'√°gua pequena no canto
Acesso aos 5 temas visuais padr√£o

Plano Pro ($10/m√™s ou $8/m√™s anual):

Templates ilimitados
Exporta√ß√£o em alta qualidade + PDF
Sem marca d'√°gua
10 temas visuais premium adicionais
Biblioteca de assets premium (50+ itens)
Prioridade no suporte


Pack de Templates Premium ($10 uma vez)
Conte√∫do:

30 templates exclusivos e profissionais
15 temas visuais adicionais
100+ assets decorativos
eBook: "Guia de Design para Planners Digitais"
Acesso vital√≠cio, sem mensalidade

Estrat√©gia de Venda:

Landing page dedicada com exemplos visuais
Depoimentos de usu√°rios
Garantia de 7 dias (devolu√ß√£o se n√£o gostar)
Upsell no checkout: "Adicione Plano Pro por +$5"


33. DIFERENCIAL COMPETITIVO
Por que escolher este app vs. Canva/Notion/GoodNotes?
vs. Canva:

Mais focado em produtividade (n√£o design gr√°fico gen√©rico)
Templates interativos (checkboxes, trackers animados)
Interface mais simples para quem n√£o √© designer
Sem confus√£o de mil recursos - apenas o essencial

vs. Notion:

Visual muito mais customiz√°vel e bonito
Exporta√ß√£o para imagem (Notion n√£o tem)
N√£o precisa entender estrutura de databases
Ideal para quem quer planners visuais, n√£o bancos de dados

vs. GoodNotes/Apps de Planner Digital:

N√£o precisa de iPad/Apple Pencil
Funciona em qualquer dispositivo (web)
Cria seus pr√≥prios templates em minutos
Templates "vivos" (n√£o PDFs est√°ticos)

Proposta de Valor √önica:
"Crie planners, trackers e templates visuais profissionais em minutos, sem ser designer. Arraste, personalize, exporte. Simples assim."

34. ROADMAP DE LAN√áAMENTO
Sprint 1-2 (Semanas 1-2): Funda√ß√£o

Setup do projeto
Autentica√ß√£o funcionando
Banco de dados configurado
Editor b√°sico com grid layout

Sprint 3-4 (Semanas 3-4): Widgets Essenciais

Criar 10 widgets principais (texto, lista, planners, trackers)
Biblioteca de widgets funcional
Arrastar e soltar funcionando

Sprint 5-6 (Semanas 5-6): Personaliza√ß√£o

Sistema de temas implementado
Painel de propriedades completo
IconPicker e ColorPicker

Sprint 7-8 (Semanas 7-8): Persist√™ncia e Exporta√ß√£o

Auto-save implementado
Exporta√ß√£o para PNG/JPG
Galeria de templates p√∫blicos
15 templates pr√©-configurados criados

Sprint 9-10 (Semanas 9-10): Polimento e UX

Anima√ß√µes com Framer Motion
Responsividade completa
Acessibilidade
Help Center e documenta√ß√£o

Sprint 11-12 (Semanas 11-12): Testes e Lan√ßamento

Testes extensivos
Corre√ß√£o de bugs
Beta com 20-30 usu√°rios
Feedback e ajustes finais
Deploy em produ√ß√£o
Lan√ßamento p√∫blico

Timeline Total: 12 semanas (3 meses)

35. RECURSOS ADICIONAIS PARA O DESENVOLVEDOR
Links √öteis
Documenta√ß√£o Oficial:

Next.js App Router: https://nextjs.org/docs/app
Supabase Docs: https://supabase.com/docs
React Grid Layout: https://github.com/react-grid-layout/react-grid-layout
Lucide React Icons: https://lucide.dev/icons
Framer Motion: https://www.framer.com/motion
Recharts: https://recharts.org/en-US
html-to-image: https://github.com/bubkoo/html-to-image

Refer√™ncias de Design:

Dribbble (buscar "planner template"): https://dribbble.com
Behance (buscar "habit tracker"): https://behance.net
Pinterest (buscar "aesthetic planner"): https://pinterest.com

Ferramentas:

Figma (para prototipar antes de codificar): https://figma.com
Coolors (gerador de paletas): https://coolors.co
SVG Optimizer: https://jakearchibald.github.io/svgomg/
TinyPNG (comprimir imagens): https://tinypng.com

Padr√µes de C√≥digo √öteis
Hook de Auto-Save:
typescript// useAutoSave.ts
import { useEffect, useRef } from 'react';
import { debounce } from 'lodash';

export function useAutoSave(data: any, saveFunction: (data: any) => Promise<void>) {
  const debouncedSave = useRef(
    debounce(async (dataToSave: any) => {
      await saveFunction(dataToSave);
    }, 3000)
  ).current;

  useEffect(() => {
    debouncedSave(data);
  }, [data, debouncedSave]);
}
Hook de Grid Layout:
typescript// useGridLayout.ts
import { useState, useCallback } from 'react';
import { Layout } from 'react-grid-layout';

export function useGridLayout(initialLayout: Layout[]) {
  const [layout, setLayout] = useState<Layout[]>(initialLayout);

  const onLayoutChange = useCallback((newLayout: Layout[]) => {
    setLayout(newLayout);
  }, []);

  const addWidget = useCallback((widgetType: string) => {
    const newWidget: Layout = {
      i: `w${Date.now()}`,
      x: 0,
      y: Infinity, // Adiciona no final
      w: 6,
      h: 3,
    };
    setLayout([...layout, newWidget]);
  }, [layout]);

  const removeWidget = useCallback((widgetId: string) => {
    setLayout(layout.filter(item => item.i !== widgetId));
  }, [layout]);

  return { layout, onLayoutChange, addWidget, removeWidget };
}

36. CONSIDERA√á√ïES FINAIS
Princ√≠pios de Design a Seguir

Simplicidade Acima de Tudo: Cada feature deve ter um prop√≥sito claro. Se n√£o √© essencial para o MVP, fica para Fase 2.
Feedback Visual Constante: O usu√°rio sempre deve saber o que est√° acontecendo (loading, salvando, erro, sucesso).
Zero Curva de Aprendizado: Se o usu√°rio precisa ler documenta√ß√£o para usar, o design falhou. A interface deve ser auto-explicativa.
Performance √© Feature: Um app lento √© um app ruim. Priorizar otimiza√ß√µes desde o in√≠cio.
Mobile-First Mindset: Mesmo que o uso principal seja desktop, garantir que funciona perfeitamente em mobile.

Mantra do Produto
"Profissional em Minutos, N√£o em Horas"
O valor deste app est√° em permitir que qualquer pessoa crie templates visuais que parecem ter sido feitos por um designer profissional, em menos de 5 minutos. Toda decis√£o de design e desenvolvimento deve servir a este objetivo.
Crit√©rio de "Pronto para Lan√ßar"
O app est√° pronto quando:

‚úÖ Usu√°rio consegue criar template do zero em < 3 min
‚úÖ Usu√°rio consegue usar template p√∫blico e personalizar em < 2 min
‚úÖ Exporta√ß√£o funciona 100% das vezes
‚úÖ Auto-save nunca perde dados
‚úÖ Funciona perfeitamente em Chrome, Firefox, Safari
‚úÖ Funciona perfeitamente em mobile (iOS e Android)
‚úÖ 0 bugs cr√≠ticos
‚úÖ Todos os 15 templates p√∫blicos est√£o lindos e funcionais
‚úÖ Documenta√ß√£o b√°sica est√° completa


FIM DA DIRETRIZ T√âCNICA
Resumo Executivo:
Este documento especifica um aplicativo web para cria√ß√£o de templates visuais (planners, trackers, listas) atrav√©s de um editor drag-and-drop intuitivo.
Stack Principal: Next.js, Supabase, React Grid Layout, html-to-image, Lucide React, Framer Motion, Recharts.
Diferenciais: 28 widgets funcionais, 5 temas visuais profissionais, sistema de grid inteligente sem sobreposi√ß√£o, exporta√ß√£o de alta qualidade, galeria de 15 templates prontos.
Timeline: 12 semanas at√© lan√ßamento.
Objetivo: Permitir que qualquer pessoa crie templates profissionais em minutos, n√£o em horas.

Vers√£o: 1.0
Data: 2025
Preparado para: Desenvolvimento com Cursor AI / Equipe de Dev
Status: Documento Completo e Final ‚úÖ